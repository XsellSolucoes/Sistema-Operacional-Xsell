{
  "timestamp": "2025-12-26T23:21:02.827539",
  "total_tests": 31,
  "passed_tests": 30,
  "failed_tests": 1,
  "success_rate": 96.7741935483871,
  "test_results": [
    {
      "test": "User Login (testfinanceiro@test.com)",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "Create Test User (if not exists)",
      "success": false,
      "details": "Status: 400 (Expected: 200) - Email already registered"
    },
    {
      "test": "Create Test Despesa",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "Upload Boleto File",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "Get Despesa with Boleto Info",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "Despesa Contains Boleto Info",
      "success": true,
      "details": "Boleto attached: test_boleto.pdf"
    },
    {
      "test": "Download Boleto File",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "Boleto Download Content Verification",
      "success": true,
      "details": "Downloaded 328 bytes"
    },
    {
      "test": "Boleto Download Content-Type",
      "success": true,
      "details": "Content-Type: application/pdf"
    },
    {
      "test": "Create Despesa Without Boleto",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "Download Non-existent Boleto (should fail 404)",
      "success": true,
      "details": "Status: 404"
    },
    {
      "test": "Download Boleto Invalid Despesa ID (should fail 404)",
      "success": true,
      "details": "Status: 404"
    },
    {
      "test": "Download Existing Boleto (ID from review)",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "Existing Boleto Download Success",
      "success": true,
      "details": "Downloaded 649760 bytes from existing despesa"
    },
    {
      "test": "Delete Boleto",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "Download Deleted Boleto (should fail 404)",
      "success": true,
      "details": "Status: 404"
    },
    {
      "test": "Setup: Create Test Cliente",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "Setup: Create Test Produto",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "P2: Create Expense Due Today",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "P2: Create Expense Due Tomorrow",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "P2: Get Expenses Near Expiration",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "P2: Alert Card Data (Expenses Near Due)",
      "success": true,
      "details": "Found 2 expenses near expiration"
    },
    {
      "test": "P2: Get Notification Configuration",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "P2: Email Destination Configuration",
      "success": true,
      "details": "Email destino: pauloconsultordenegocios@gmail.com, Expected: pauloconsultordenegocios@gmail.com"
    },
    {
      "test": "P2: Send Email Notification Endpoint",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "P2: Email Processing Logic",
      "success": true,
      "details": "Message: API Key do Resend n\u00e3o configurada. Configure RESEND_API_KEY no arquivo .env, Expenses found: 2"
    },
    {
      "test": "P3: Get Current User Level (/api/vendedores/me)",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "P3: User Level Check (test@xsell.com NOT president)",
      "success": true,
      "details": "is_presidente: False, vendedor: None"
    },
    {
      "test": "P3: Non-President Create Vendedor (should fail 403)",
      "success": true,
      "details": "Status: 403"
    },
    {
      "test": "P3: Get Vendedores List (should work)",
      "success": true,
      "details": "Status: 200"
    },
    {
      "test": "P3: Non-President Edit Vendedor (should fail 403)",
      "success": true,
      "details": "Status: 403"
    }
  ]
}